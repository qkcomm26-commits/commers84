<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QK-Commerce | High Speed Shopping</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="server.js">
    <style>
        /* ESTILOS DE VELOCIDAD QK */
        body { font-family: 'Arial', sans-serif; margin: 2,5rem; background-color: #f4f4f4; color: #1a1a1a; }
        
        header { background-color: #ffffff; height: 150px; text-align: center; border-bottom: 5px solid #e10600; }
        .logo-container img{
            display:flexbox;
            width: auto;
            height: 140px;
            margin: 0;
        }
        /*.logo-container h1 { color: #fff; margin: 0; font-size: 3rem; letter-spacing: -2px; font-style: italic; }
        .logo-container span { color: #e10600; }
        .logo-container p { color: #ccc; font-size: 0.9rem; margin-top: 5px; text-transform: uppercase; }

        .container { max-width: 1100px; margin: auto; padding: 20px; }
        
        h2 { border-left: 5px solid #e10600; padding-left: 15px; text-transform: uppercase; margin-top: 40px; }*/

        /* GRILLA DE PRODUCTOS */
        .grid { display: grid; gap: 80px; margin-bottom: 40px; }
        
        /* Configuraciones de cuadr√≠cula por secci√≥n */
        .novedades { grid-template-columns: repeat(5, 1fr); }
        .ofertas { grid-template-columns: repeat(3, 1fr); }
        .mas-vendido { grid-template-columns: repeat(2, 1fr); }

        .card { background: #fff; padding: 10px; border-radius: 8px; text-align: center; box-shadow: 0 4px 6px rgba(0,0,0,0.1); transition: 0.3s; position: relative; overflow: hidden; }
        .card:hover { transform: translateY(-5px); border: 1px solid #e10600; }

        div #p1 img{
            height: 200px;
        }
        
        .card img { width: 100%; border-radius: 4px; background-color: #eee; height: 150px; object-fit:contain; }
        
        .price { font-weight: bold; color: #281e1e; font-size: 1.2rem; display: block; margin: 10px 0; }
        
        .btn-qk { background-color: #000099; color: #fff; border: none; padding: 10px 15px; width: 100%; border-radius: 4px; cursor: pointer; text-transform: uppercase; font-weight: bold; }
        .btn-qk:hover { background-color: #105eb1; }

        .badge { position: absolute; top: 10px; right: 10px; background: #c0c0c0; color: #fff; padding: 5px 10px; font-size: 0.7rem; font-weight: bold; border-radius: 3px; }

        /* Responsive */
        @media (max-width: 768px) {
            header, .novedades, .ofertas, .mas-vendido { grid-template-columns: repeat(2, 1fr); }
        }
         /* CARRITO QK-STYLE */
#carrito-container {
    position: fixed;
    top: 0;
    right: -400px; /* Escondido por defecto */
    width: 350px;
    height: 80%;
    background: #fff;
    box-shadow: -5px 0 15px rgba(0,0,0,0.3);
    z-index: 1000;
    transition: 0.4s;
    padding: 20px;
    display: flex;
    flex-direction: column;
}

#carrito-container.active { right: 0; }

.carrito-header { display: flex; justify-content:space-between; align-items: center; border-bottom: 2px solid #e10600; padding-bottom: 10px; }

#lista-carrito { flex-grow: 1; overflow-y: auto; margin-top: 20px; list-style: none; padding: 0; }

.item-carrito { display: flex; justify-content: space-between; margin-bottom: 15px; border-bottom: 1px solid #eee; padding-bottom: 5px; }

.btn-finalizar { background-color: #e10600; color: #fff; border: none; padding: 10px 20px; border-radius: 5px; font-weight: bold; cursor: pointer; text-transform: uppercase;}



/*Bot√≥n para abrir el carrito*/
.cart-icon { position: fixed; top: 20px; right: 20px; background: #e10600; color: #fff; padding: 15px; border-radius: 50%; cursor: pointer; z-index: 999; font-weight: bold; }


        
/*BOT√ìN FLOTANTE QK-WHATSAPP*/
    .whatsapp-float {
        position: fixed;
        width: 60px;
        height: 60px;
        bottom: 40px;
        right: 40px;
        background-color: #25d366;
        color: #FFF;
        border-radius: 50px;
        text-align: center;
        font-size: 30px;
        box-shadow: 2px 2px 10px rgba(0,0,0,0.3);
        z-index: 100;
        display: flex;
        align-items: center;
        justify-content: center;
        text-decoration: none;
        transition: all 0.3s ease;
    }

    .whatsapp-float:hover {
        transform: scale(1.1);
        background-color: #128C7E;
    }

    /* Tooltip de ayuda */
    .whatsapp-float::after {
        content: "¬°Boxes abierto! Consultanos";
        position: absolute;
        width: 180px;
        right: 70px;
        background: #333;
        color: #fff;
        padding: 8px;
        border-radius: 5px;
        font-size: 12px;
        opacity: 0;
        visibility: hidden;
        transition: 0.3s;
    }

    .whatsapp-float:hover::after {
        opacity: 1;
        visibility: visible;
    }
    </style>
    <!-- Reemplaza el n√∫mero 5491112345678 por tu n√∫mero real (C√≥digo de pa√≠s + √°rea + n√∫mero) -->
<a href="https://wa.me/5491135976670"
   class="whatsapp-float"
   target="_blank">
    <svg width="35" height="35" viewBox="0 0 24 24" fill="currentColor">
        <path d="M12.031 6.172c-3.181 0-5.767 2.586-5.768 5.766-.001 1.298.38 2.27 1.019 3.287l-.582 2.128 2.182-.573c.978.58 1.911.928 3.145.929 3.178 0 5.767-2.587 5.768-5.766.001-3.187-2.575-5.771-5.764-5.771zm3.392 8.244c-.144.405-.837.774-1.17.824-.299.045-.677.063-1.092-.069-.252-.08-.575-.187-.982-.361-1.719-.733-2.826-2.49-2.912-2.603-.085-.114-.694-.921-.694-1.756 0-.835.434-1.245.586-1.414.153-.17.332-.213.443-.213.11 0 .221.001.318.005.101.004.234-.039.366.279.132.318.454 1.102.492 1.181.039.079.065.17.013.273-.052.103-.078.167-.156.257-.078.09-.164.201-.235.273-.079.081-.162.169-.069.327.093.158.413.682.887 1.103.609.542 1.121.71 1.279.79.158.079.251.066.345-.041.093-.107.4-.467.508-.626.107-.159.215-.133.363-.079.148.054.941.444 1.102.525.161.08.269.12.308.187.04.066.04.385-.104.79z"/>
    </svg>
</a>

</head>
<body>

<header>
    <!-- ICONO CARRITO -->
<div class="cart-icon" onclick="toggleCart()">üõí <span id="cart-count">0</span></div>

<!-- ESTRUCTURA DEL CARRITO -->
<div id="carrito-container">
    <div class="carrito-header">
        <h3>Pedidos</h3>
        <button onclick="toggleCart()">Cerrar X</button>
    </div>
    <ul id="lista-carrito">
        <!-- Los productos aparecer√°n ac√° -->
    </ul>
    <div class="total-compra">
        <strong>Total: $<span id="total-precio">0</span></strong>
    </div>
    <!-- ... (tu lista y total) ... -->
    <button class="btn-carrito-accion btn-finalizar" onclick="enviarWhatsApp()">
        Finalizar por WhatsApp
    </button>
    
    <!-- Bot√≥n que dispara la generaci√≥n del pago -->
    <button id="btn-generar-pago" class="btn-carrito-accion btn-mp" onclick="iniciarPagoMP()">
        Pagar con Mercado Pago
    </button>

    <!-- Aqu√≠ aparecer√° el bot√≥n oficial de MP una vez generado -->
    <div id="wallet_container"></div>
</div>

    <div class="logo-container">
        <img src="imgs/image_5f8c3161.png" alt="log">
        <!---<h1>QK<span>-COMMERCE</span></h1>
        <p>Tu pedido en tiempo record</p>--->
    </div>
</header>

<div class="container">

    <!-- SECCI√ìN NOVEDADES (5 PRODUCTOS) -->
    <h2>üöÄ Novedades (Reci√©n llegados)</h2>
    <div class="grid novedades">
        <div class="card" id="p1"><img src="imgs/prod/guamma.webp" alt="P1"><h3>Producto 1</h3><span class="price">$10.000</span>
        <button class="btn-qk" onclick="agregar('Producto 1', 10000)">Comprar</button>
        </div>
        <div class="card"><img src="imgs/prod/ruidoblanco2.webp" alt="P2"><h3>Ruido Blanco</h3><h4>Fuera Sonidos Molestros</h4><span class="price">$12.500</span><button class="btn-qk" onclick="agregar('Producto 2', 12500)">Comprar</button></div>
        <div class="card"><img src="imgs/prod/luzrelajan.jpg" alt="P3"><h3>Luz Relajante</h3><h4>Dormi en un ambiente con calidez</h4><span class="price">$9.800</span><button class="btn-qk" onclick="agregar('Producto 3', 9800)">Comprar</button></div>
        <div class="card"><img src="imgs/prod/ringsleep.webp" alt="P4"><h3>Anillo de Monitoreo</h3><h5>Cuidar el sue√±o es mejorar el inicio del dia siguiente</h5><span class="price">$15.000</span><button class="btn-qk" onclick="agregar('Producto 4', 15000)">Comprar</button></div>
        <div class="card"><img src="imgs/prod/kickkit.webp" alt="P5"><h3>Kit Kickboxing</h3><h4>Entrena con todo lo Necesario</h4><span class="price">$11.200</span><button class="btn-qk" onclick="agregar('Producto 5', 11200)">Comprar</button></div>
    </div>

    <!-- SECCI√ìN OFERTAS (3 PRODUCTOS) -->
    <h2>üî• Ofertas</h2>
    <div class="grid ofertas">
        <div class="card"><div class="badge">30% OFF</div><img src="https://via.placeholder.com" alt="P6"><h3>Oferta A</h3><span class="price">$25.000</span><button class="btn-qk" onclick="agregar('Producto 6', 25000)">Aprovechar</button></div>
        <div class="card"><div class="badge">20% OFF</div><img src="https://via.placeholder.com" alt="P7"><h3>Oferta B</h3><span class="price">$7.200</span><button class="btn-qk" onclick="agregar('Producto 7', 7200)">Aprovechar</button></div>
        <div class="card"><div class="badge">50% OFF</div><img src="https://via.placeholder.com" alt="P8"><h3>Oferta C</h3><span class="price">$4.500</span><button class="btn-qk" onclick="agregar('Producto 8', 4500)">Aprovechar</button></div>
    </div>

    <!-- SECCI√ìN LO M√ÅS VENDIDO (2 PRODUCTOS GRANDES) -->
    <h2>üèÜ Lo m√°s vendido</h2>
    <div class="grid mas-vendido">
        <div class="card" style="padding: 30px;"><img src="https://via.placeholder.com" alt="P9"><h3>Bestseller 1</h3><p>El favorito de la comunidad.</p><span class="price">$25.000</span><button class="btn-qk" onclick="agregar('Producto 9', 25000)">Lo Quiero</button></div>
        <div class="card" style="padding: 30px;"><img src="https://via.placeholder.com" alt="P10"><h3>Bestseller 2</h3><p>Rendimiento garantizado.</p><span class="price">$22.000</span><button class="btn-qk" onclick="agregar('Producto 10', 22000)">Lo Quiero</button></div>
    </div>

</div>
<script>
let carrito = [];
const cartCount = document.getElementById('cart-count');
const listaCarrito = document.getElementById('lista-carrito');
const totalPrecio = document.getElementById('total-precio');

// Funci√≥n para abrir/cerrar carrito
function toggleCart() {
    document.getElementById('carrito-container').classList.toggle('active');
}

// Funci√≥n para agregar al carrito
// Modific√° tus botones en el HTML as√≠: onclick="agregar('Nombre', Precio)"
function agregar(nombre, precio) {
    carrito.push({ nombre, precio });
    actualizarCarrito();
}

function actualizarCarrito() {
    cartCount.innerText = carrito.length;
    listaCarrito.innerHTML = '';
    let total = 0;
    
    carrito.forEach((item, index) => {
        total += item.precio;
        listaCarrito.innerHTML += `
            <li class="item-carrito">
                ${item.nombre} - $${item.precio}
                <button onclick="eliminar(${index})">‚ùå</button>
            </li>`;
    });
    totalPrecio.innerText = total;
}

function eliminar(index) {
    carrito.splice(index, 1);
    actualizarCarrito();
}

function enviarWhatsApp() {
    if (carrito.length === 0) return alert("Tu carrito est√° vac√≠o");
    
    let mensaje = "¬°Hola QK-Commerce! üöÄ Quiero pedir:%0A";
    carrito.forEach(item => {
        mensaje += `- ${item.nombre} ($${item.precio})%0A`;
    });
    mensaje += `%0A*Total: $${totalPrecio.innerText}*`;
    
    // USAMOS TU N√öMERO
    window.open(`https://wa.me/5491135976670`, '_blank');
}
</script>
<!--Cargar el SDK de Mercado Pago//-->
<script src="https://link.mercadopago.com.ar/quikcommers"></script>

<!--Contenedor donde se mostrar√° el bot√≥n de pago-->
<div id="wallet_container"></div>

  <!--- 1. Inicializar el SDK con tu Public Key-->
 <script>const mp = new MercadoPago('TU_PUBLIC_KEY', {
    locale: 'es-AR' // O el c√≥digo de tu pa√≠s (es-MX, es-CL, etc.)
  });

  //2. Generar el bot√≥n de pago (Wallet Brick)
  // Debes obtener el 'preferenceId' desde tu servidor (Backend)

  mp.bricks().create("wallet", "wallet_container", {
    initialization: {
        preferenceId: "ID_DE_PREFERENCIA_GENERADO",
    },
  });
</script>

    

</body>
</html>
